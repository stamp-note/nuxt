import{_ as L}from"./_commonjsHelpers.572bed92.js";import{_ as A,l as j,Y as t,Z as q,k as l,$ as V,g as P,h as D,a0 as d,o as m,c as f,a as W,a5 as F,a4 as p,a6 as c,b,a2 as C,f as M}from"./entry.b1440bb3.js";import{u as T}from"./index.4cc80b03.js";const E=j({components:{UIcon:L},inheritAttrs:!1,props:{modelValue:{type:[String,Number],default:""},type:{type:String,default:"text"},name:{type:String,default:null},placeholder:{type:String,default:null},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},icon:{type:String,default:null},loadingIcon:{type:String,default:()=>t.ui.input.default.loadingIcon},leadingIcon:{type:String,default:null},trailingIcon:{type:String,default:null},trailing:{type:Boolean,default:!1},leading:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},padded:{type:Boolean,default:!0},size:{type:String,default:()=>t.ui.input.default.size,validator(e){return Object.keys(t.ui.input.size).includes(e)}},color:{type:String,default:()=>t.ui.input.default.color,validator(e){return[...t.ui.colors,...Object.keys(t.ui.input.color)].includes(e)}},variant:{type:String,default:()=>t.ui.input.default.variant,validator(e){return[...Object.keys(t.ui.input.variant),...Object.values(t.ui.input.color).flatMap(n=>Object.keys(n))].includes(e)}},ui:{type:Object,default:()=>t.ui.input}},emits:["update:modelValue","blur"],setup(e,{emit:n,slots:s}){const o=q(),a=l(()=>V({},e.ui,o.ui.input)),{emitFormBlur:v}=T(),u=P(null),r=()=>{var i;e.autofocus&&((i=u.value)==null||i.focus())},S=i=>{n("update:modelValue",i.target.value)},w=i=>{v(),n("blur",i)};D(()=>{setTimeout(()=>{r()},100)});const z=l(()=>{var I,h;const i=((h=(I=a.value.color)==null?void 0:I[e.color])==null?void 0:h[e.variant])||a.value.variant[e.variant];return d(a.value.base,a.value.rounded,a.value.placeholder,a.value.size[e.size],e.padded?a.value.padding[e.size]:"p-0",i==null?void 0:i.replaceAll("{color}",e.color),(g.value||s.leading)&&a.value.leading.padding[e.size],(y.value||s.trailing)&&a.value.trailing.padding[e.size])}),g=l(()=>e.icon&&e.leading||e.icon&&!e.trailing||e.loading&&!e.trailing||e.leadingIcon),y=l(()=>e.icon&&e.trailing||e.loading&&e.trailing||e.trailingIcon),B=l(()=>e.loading?e.loadingIcon:e.leadingIcon||e.icon),N=l(()=>e.loading&&!g.value?e.loadingIcon:e.trailingIcon||e.icon),U=l(()=>d(a.value.icon.leading.wrapper,a.value.icon.leading.pointer,a.value.icon.leading.padding[e.size])),k=l(()=>d(a.value.icon.base,o.ui.colors.includes(e.color)&&a.value.icon.color.replaceAll("{color}",e.color),a.value.icon.size[e.size],e.loading&&"animate-spin")),$=l(()=>d(a.value.icon.trailing.wrapper,a.value.icon.trailing.pointer,a.value.icon.trailing.padding[e.size])),O=l(()=>d(a.value.icon.base,o.ui.colors.includes(e.color)&&a.value.icon.color.replaceAll("{color}",e.color),a.value.icon.size[e.size],e.loading&&!g.value&&"animate-spin"));return{ui:a,input:u,isLeading:g,isTrailing:y,inputClass:z,leadingIconName:B,leadingIconClass:k,leadingWrapperIconClass:U,trailingIconName:N,trailingIconClass:O,trailingWrapperIconClass:$,onInput:S,onBlur:w}}}),J=["id","name","value","type","required","placeholder","disabled"];function Y(e,n,s,o,a,v){const u=L;return m(),f("div",{class:c(e.ui.wrapper)},[W("input",F({id:e.name,ref:"input",name:e.name,value:e.modelValue,type:e.type,required:e.required,placeholder:e.placeholder,disabled:e.disabled||e.loading,class:["form-input",e.inputClass]},e.$attrs,{onInput:n[0]||(n[0]=(...r)=>e.onInput&&e.onInput(...r)),onBlur:n[1]||(n[1]=(...r)=>e.onBlur&&e.onBlur(...r))}),null,16,J),p(e.$slots,"default"),e.isLeading&&e.leadingIconName||e.$slots.leading?(m(),f("span",{key:0,class:c(e.leadingWrapperIconClass)},[p(e.$slots,"leading",{disabled:e.disabled,loading:e.loading},()=>[b(u,{name:e.leadingIconName,class:c(e.leadingIconClass)},null,8,["name","class"])])],2)):C("",!0),e.isTrailing&&e.trailingIconName||e.$slots.trailing?(m(),f("span",{key:1,class:c(e.trailingWrapperIconClass)},[p(e.$slots,"trailing",{disabled:e.disabled,loading:e.loading},()=>[b(u,{name:e.trailingIconName,class:c(e.trailingIconClass)},null,8,["name","class"])])],2)):C("",!0)],2)}const K=A(E,[["render",Y]]),Q=M({id:"user-coupon",state:()=>({userList:[{uId:1,name:"user1",createdAt:new Date,couponList:[{cId:1,identification:{type:"question",params:{question:"question1",answer:"answer1"}},stamp:{type:"stamp",params:{count:0,maxCount:10,locations:[]}},createdAt:new Date}]}],page:1,perPage:3,search:""}),getters:{searchUserList(){return this.userList.filter(e=>e.name.includes(this.search))||[]},total(){return this.searchUserList.length}},actions:{reset(){this.page=1,this.search=""},setPage(e){this.page=e},setSearch(e){this.search=e},setPerPage(e){this.perPage=e},makeUserObj(e,n,s){return{uId:this.userList.reduce((o,a)=>Math.max(o,a.uId),0)+1,name:e,createdAt:new Date,couponList:[{cId:1,identification:{type:"question",params:{question:n,answer:s}},stamp:{type:"stamp",params:{count:0,maxCount:10,locations:[]}},createdAt:new Date}]}},async loadUserList(){this.userList=JSON.parse(window.localStorage.getItem("userCouponList"))||[]},async saveUserList(){window.localStorage.setItem("userCouponList",JSON.stringify(this.userList))},async addUser(e,n,s){this.userList.push(this.makeUserObj(e,n,s)),await this.saveUserList()},async removeUser(e){this.userList=this.userList.filter(n=>n.uId!==e),await this.saveUserList()},async hasUserName(e){return this.userList.some(n=>n.name===e)}}});export{K as _,Q as u};
