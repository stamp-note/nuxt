import{_ as b}from"./_commonjsHelpers.6253a115.js";import{_ as D,k as $,X as i,Y as O,j as s,Z as j,r as V,g as P,$ as d,o as m,c as p,a as W,a5 as F,a4 as f,a6 as c,b as w,a2 as L,f as M}from"./entry.53c056df.js";import{u as T}from"./index.c40f4b0f.js";const E=$({components:{UIcon:b},inheritAttrs:!1,props:{modelValue:{type:[String,Number],default:""},type:{type:String,default:"text"},name:{type:String,default:null},placeholder:{type:String,default:null},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},icon:{type:String,default:null},loadingIcon:{type:String,default:()=>i.ui.input.default.loadingIcon},leadingIcon:{type:String,default:null},trailingIcon:{type:String,default:null},trailing:{type:Boolean,default:!1},leading:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},padded:{type:Boolean,default:!0},size:{type:String,default:()=>i.ui.input.default.size,validator(e){return Object.keys(i.ui.input.size).includes(e)}},color:{type:String,default:()=>i.ui.input.default.color,validator(e){return[...i.ui.colors,...Object.keys(i.ui.input.color)].includes(e)}},variant:{type:String,default:()=>i.ui.input.default.variant,validator(e){return[...Object.keys(i.ui.input.variant),...Object.values(i.ui.input.color).flatMap(n=>Object.keys(n))].includes(e)}},ui:{type:Object,default:()=>i.ui.input}},emits:["update:modelValue","blur"],setup(e,{emit:n,slots:l}){const o=O(),a=s(()=>j({},e.ui,o.ui.input)),{emitFormBlur:y}=T(),u=V(null),r=()=>{var t;e.autofocus&&((t=u.value)==null||t.focus())},C=t=>{n("update:modelValue",t.target.value)},S=t=>{y(),n("blur",t)};P(()=>{setTimeout(()=>{r()},100)});const q=s(()=>{var v,h;const t=((h=(v=a.value.color)==null?void 0:v[e.color])==null?void 0:h[e.variant])||a.value.variant[e.variant];return d(a.value.base,a.value.rounded,a.value.placeholder,a.value.size[e.size],e.padded?a.value.padding[e.size]:"p-0",t==null?void 0:t.replaceAll("{color}",e.color),(g.value||l.leading)&&a.value.leading.padding[e.size],(I.value||l.trailing)&&a.value.trailing.padding[e.size])}),g=s(()=>e.icon&&e.leading||e.icon&&!e.trailing||e.loading&&!e.trailing||e.leadingIcon),I=s(()=>e.icon&&e.trailing||e.loading&&e.trailing||e.trailingIcon),A=s(()=>e.loading?e.loadingIcon:e.leadingIcon||e.icon),U=s(()=>e.loading&&!g.value?e.loadingIcon:e.trailingIcon||e.icon),z=s(()=>d(a.value.icon.leading.wrapper,a.value.icon.leading.pointer,a.value.icon.leading.padding[e.size])),B=s(()=>d(a.value.icon.base,o.ui.colors.includes(e.color)&&a.value.icon.color.replaceAll("{color}",e.color),a.value.icon.size[e.size],e.loading&&"animate-spin")),N=s(()=>d(a.value.icon.trailing.wrapper,a.value.icon.trailing.pointer,a.value.icon.trailing.padding[e.size])),k=s(()=>d(a.value.icon.base,o.ui.colors.includes(e.color)&&a.value.icon.color.replaceAll("{color}",e.color),a.value.icon.size[e.size],e.loading&&!g.value&&"animate-spin"));return{ui:a,input:u,isLeading:g,isTrailing:I,inputClass:q,leadingIconName:A,leadingIconClass:B,leadingWrapperIconClass:z,trailingIconName:U,trailingIconClass:k,trailingWrapperIconClass:N,onInput:C,onBlur:S}}}),J=["id","name","value","type","required","placeholder","disabled"];function X(e,n,l,o,a,y){const u=b;return m(),p("div",{class:c(e.ui.wrapper)},[W("input",F({id:e.name,ref:"input",name:e.name,value:e.modelValue,type:e.type,required:e.required,placeholder:e.placeholder,disabled:e.disabled||e.loading,class:["form-input",e.inputClass]},e.$attrs,{onInput:n[0]||(n[0]=(...r)=>e.onInput&&e.onInput(...r)),onBlur:n[1]||(n[1]=(...r)=>e.onBlur&&e.onBlur(...r))}),null,16,J),f(e.$slots,"default"),e.isLeading&&e.leadingIconName||e.$slots.leading?(m(),p("span",{key:0,class:c(e.leadingWrapperIconClass)},[f(e.$slots,"leading",{disabled:e.disabled,loading:e.loading},()=>[w(u,{name:e.leadingIconName,class:c(e.leadingIconClass)},null,8,["name","class"])])],2)):L("",!0),e.isTrailing&&e.trailingIconName||e.$slots.trailing?(m(),p("span",{key:1,class:c(e.trailingWrapperIconClass)},[f(e.$slots,"trailing",{disabled:e.disabled,loading:e.loading},()=>[w(u,{name:e.trailingIconName,class:c(e.trailingIconClass)},null,8,["name","class"])])],2)):L("",!0)],2)}const H=D(E,[["render",X]]),K=M({id:"user-coupon",state:()=>({userList:[],page:1,perPage:3,search:""}),getters:{searchUserList(){return this.userList.filter(e=>e.name.includes(this.search))||[]},total(){return this.searchUserList.length},defaultUserList(){return[{uId:1,name:"user1",createdAt:new Date,couponList:[{cId:1,identification:{type:"question",params:{question:"question1",answer:"answer1"}},stamp:{type:"stamp",params:{count:0,maxCount:10,locations:[]}},createdAt:new Date}]},{uId:2,name:"user2",createdAt:new Date,couponList:[{cId:1,identification:{type:"question",params:{question:"question1",answer:"answer1"}},stamp:{type:"stamp",params:{count:0,maxCount:10,locations:[]}},createdAt:new Date}]},{uId:3,name:"user3",createdAt:new Date,couponList:[{cId:1,identification:{type:"question",params:{question:"question1",answer:"answer1"}},stamp:{type:"stamp",params:{count:0,maxCount:10,locations:[]}},createdAt:new Date}]},{uId:4,name:"user4",createdAt:new Date,couponList:[{cId:1,identification:{type:"question",params:{question:"question1",answer:"answer1"}},stamp:{type:"stamp",params:{count:0,maxCount:10,locations:[]}},createdAt:new Date}]}]}},actions:{reset(){this.page=1,this.search=""},setPage(e){this.page=e},setSearch(e){this.search=e},setPerPage(e){this.perPage=e},makeUserObj(e,n,l){return{uId:this.userList.reduce((o,a)=>Math.max(o,a.uId),0)+1,name:e,createdAt:new Date,couponList:[{cId:1,identification:{type:"question",params:{question:n,answer:l}},stamp:{type:"stamp",params:{count:0,maxCount:10,locations:[]}},createdAt:new Date},{cId:1,identification:{type:"question",params:{question:n,answer:l}},stamp:{type:"stamp",params:{count:0,maxCount:10,locations:[]}},createdAt:new Date}]}},async loadUserList(){this.userList=JSON.parse(window.localStorage.getItem("userList"))||this.defaultUserList},async saveUserList(){window.localStorage.setItem("userList",JSON.stringify(this.userList))},async addUser(e,n,l){this.userList.push(this.makeUserObj(e,n,l)),await this.saveUserList()},async removeUser(e){this.userList=this.userList.filter(n=>n.uId!==e),await this.saveUserList()},async hasUserName(e){return this.userList.some(n=>n.name===e)}}});export{H as _,K as u};
