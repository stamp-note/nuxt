import{_ as V}from"./Button.7ac8f5cd.js";import{_ as Z,l as z,Y as c,Z as O,k as u,$ as q,g as B,h as A,a0 as y,o as p,c as I,a as G,a5 as L,a4 as S,a6 as b,b as h,a2 as w,s as C,J as T,av as P,aw as D,A as v,a1 as k,w as _,S as N,V as Q}from"./entry.3673b092.js";import{u as R,p as H,_ as K}from"./index.16f48e23.js";import{_ as X}from"./default.vue.b14fbd65.js";import"./nuxt-link.de684337.js";import"./ThemeBtn.vue.95a4e507.js";import"./Icon.9d0fd19c.js";import"./Card.6d81e6bd.js";const x=z({components:{UIcon:V},inheritAttrs:!1,props:{modelValue:{type:[String,Number],default:""},type:{type:String,default:"text"},name:{type:String,default:null},placeholder:{type:String,default:null},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},icon:{type:String,default:null},loadingIcon:{type:String,default:()=>c.ui.input.default.loadingIcon},leadingIcon:{type:String,default:null},trailingIcon:{type:String,default:null},trailing:{type:Boolean,default:!1},leading:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},padded:{type:Boolean,default:!0},size:{type:String,default:()=>c.ui.input.default.size,validator(e){return Object.keys(c.ui.input.size).includes(e)}},color:{type:String,default:()=>c.ui.input.default.color,validator(e){return[...c.ui.colors,...Object.keys(c.ui.input.color)].includes(e)}},variant:{type:String,default:()=>c.ui.input.default.variant,validator(e){return[...Object.keys(c.ui.input.variant),...Object.values(c.ui.input.color).flatMap(n=>Object.keys(n))].includes(e)}},ui:{type:Object,default:()=>c.ui.input}},emits:["update:modelValue","blur"],setup(e,{emit:n,slots:i}){const l=O(),a=u(()=>q({},e.ui,l.ui.input)),{emitFormBlur:o}=R(),s=B(null),d=()=>{var g;e.autofocus&&((g=s.value)==null||g.focus())},t=g=>{n("update:modelValue",g.target.value)},r=g=>{o(),n("blur",g)};A(()=>{setTimeout(()=>{d()},100)});const f=u(()=>{var E,j;const g=((j=(E=a.value.color)==null?void 0:E[e.color])==null?void 0:j[e.variant])||a.value.variant[e.variant];return y(a.value.base,a.value.rounded,a.value.placeholder,a.value.size[e.size],e.padded?a.value.padding[e.size]:"p-0",g==null?void 0:g.replaceAll("{color}",e.color),(m.value||i.leading)&&a.value.leading.padding[e.size],($.value||i.trailing)&&a.value.trailing.padding[e.size])}),m=u(()=>e.icon&&e.leading||e.icon&&!e.trailing||e.loading&&!e.trailing||e.leadingIcon),$=u(()=>e.icon&&e.trailing||e.loading&&e.trailing||e.trailingIcon),F=u(()=>e.loading?e.loadingIcon:e.leadingIcon||e.icon),J=u(()=>e.loading&&!m.value?e.loadingIcon:e.trailingIcon||e.icon),M=u(()=>y(a.value.icon.leading.wrapper,a.value.icon.leading.pointer,a.value.icon.leading.padding[e.size])),Y=u(()=>y(a.value.icon.base,l.ui.colors.includes(e.color)&&a.value.icon.color.replaceAll("{color}",e.color),a.value.icon.size[e.size],e.loading&&"animate-spin")),U=u(()=>y(a.value.icon.trailing.wrapper,a.value.icon.trailing.pointer,a.value.icon.trailing.padding[e.size])),W=u(()=>y(a.value.icon.base,l.ui.colors.includes(e.color)&&a.value.icon.color.replaceAll("{color}",e.color),a.value.icon.size[e.size],e.loading&&!m.value&&"animate-spin"));return{ui:a,input:s,isLeading:m,isTrailing:$,inputClass:f,leadingIconName:F,leadingIconClass:Y,leadingWrapperIconClass:M,trailingIconName:J,trailingIconClass:W,trailingWrapperIconClass:U,onInput:t,onBlur:r}}}),ee=["id","name","value","type","required","placeholder","disabled"];function ae(e,n,i,l,a,o){const s=V;return p(),I("div",{class:b(e.ui.wrapper)},[G("input",L({id:e.name,ref:"input",name:e.name,value:e.modelValue,type:e.type,required:e.required,placeholder:e.placeholder,disabled:e.disabled||e.loading,class:["form-input",e.inputClass]},e.$attrs,{onInput:n[0]||(n[0]=(...d)=>e.onInput&&e.onInput(...d)),onBlur:n[1]||(n[1]=(...d)=>e.onBlur&&e.onBlur(...d))}),null,16,ee),S(e.$slots,"default"),e.isLeading&&e.leadingIconName||e.$slots.leading?(p(),I("span",{key:0,class:b(e.leadingWrapperIconClass)},[S(e.$slots,"leading",{disabled:e.disabled,loading:e.loading},()=>[h(s,{name:e.leadingIconName,class:b(e.leadingIconClass)},null,8,["name","class"])])],2)):w("",!0),e.isTrailing&&e.trailingIconName||e.$slots.trailing?(p(),I("span",{key:1,class:b(e.trailingWrapperIconClass)},[S(e.$slots,"trailing",{disabled:e.disabled,loading:e.loading},()=>[h(s,{name:e.trailingIconName,class:b(e.trailingIconClass)},null,8,["name","class"])])],2)):w("",!0)],2)}const le=Z(x,[["render",ae]]),ne=z({props:{name:{type:String,default:null},size:{type:String,default:null,validator(e){return Object.keys(c.ui.formGroup.size).includes(e)}},label:{type:String,default:null},description:{type:String,default:null},required:{type:Boolean,default:!1},help:{type:String,default:null},error:{type:[String,Boolean],default:null},hint:{type:String,default:null},ui:{type:Object,default:()=>c.ui.formGroup}},setup(e,{slots:n}){const i=O(),l=u(()=>q({},e.ui,i.ui.formGroup));C("form-path",e.name);const a=T("form-errors",null),o=u(()=>{var t,r;return e.error&&typeof e.error=="string"?e.error:(r=(t=a==null?void 0:a.value)==null?void 0:t.find(f=>f.path===e.name))==null?void 0:r.message}),s=u(()=>P(n)),d=u(()=>s.value.map(t=>{var f;const r={};return o.value?(r.oldColor=(f=t.props)==null?void 0:f.color,r.color="red"):r.oldColor&&(r.color=r.oldColor),e.name&&(r.name=e.name),e.size&&(r.size=e.size),D(t,r)}));return()=>v("div",{class:[l.value.wrapper]},[e.label&&v("div",{class:[l.value.label.wrapper,l.value.size[e.size]]},[v("label",{for:e.name,class:[l.value.label.base,e.required&&l.value.label.required]},e.label),e.hint&&v("span",{class:[l.value.hint]},e.hint)]),e.description&&v("p",{class:[l.value.description,l.value.size[e.size]]},e.description),v("div",{class:[!!e.label&&l.value.container]},[...d.value,o.value?v("p",{class:[l.value.error,l.value.size[e.size]]},o.value):e.help?v("p",{class:[l.value.help,l.value.size[e.size]]},e.help):null])])}}),te=z({props:{schema:{type:Object,default:void 0},state:{type:Object,required:!0},validate:{type:Function,default:()=>[]}},setup(e,{slots:n,expose:i}){const l=Math.random().toString(36).substring(7),a=H(`form-${l}`);a.on(async t=>{if(t.type==="blur"){const r=o.value.filter(m=>m.path!==t.path),f=(await s()).filter(m=>m.path===t.path);o.value=r.concat(f)}});const o=B([]);C("form-errors",o),C("form-events",a);async function s(){let t=await e.validate(e.state);if(e.schema)if(ue(e.schema))t=t.concat(await ce(e.state,e.schema));else if(ie(e.schema))t=t.concat(await re(e.state,e.schema));else if(de(e.schema))t=t.concat(await me(e.state,e.schema));else throw new Error("Form validation failed: Unsupported form schema");return t}async function d(){if(o.value=await s(),o.value.length>0)throw new Error(`Form validation failed: ${JSON.stringify(o.value,null,2)}`);return e.state}return i({validate:d}),()=>{var t;return v("form",(t=n.default)==null?void 0:t.call(n))}}});function ie(e){return e.validate&&e.__isYupSchema__}function oe(e){return e.inner!==void 0}async function re(e,n){try{return await n.validate(e,{abortEarly:!1}),[]}catch(i){if(oe(i))return i.inner.map(l=>({path:l.path??"",message:l.message}));throw i}}function ue(e){return e.parse!==void 0}function se(e){return e.issues!==void 0}async function ce(e,n){try{return n.parse(e),[]}catch(i){if(se(i))return i.issues.map(l=>({path:l.path.join("."),message:l.message}));throw i}}function de(e){return e.validateAsync!==void 0&&e.id!==void 0}function fe(e){return e.isJoi===!0}async function me(e,n){try{return await n.validateAsync(e,{abortEarly:!1}),[]}catch(i){if(fe(i))return i.details.map(l=>({path:l.path.join("."),message:l.message}));throw i}}const Ie=z({__name:"View",setup(e){const n=B(null);function i(){n.value=null}return A(()=>{i()}),(l,a)=>{const o=le,s=ne,d=K,t=te,r=X;return p(),k(r,{"hide-footer":""},{default:_(()=>[h(t,{class:"m-4 flex flex-col gap-2"},{default:_(()=>{var f;return[h(s,{label:"이름"},{default:_(()=>[h(o,{size:"xl",placeholder:"이름을 입력해주세요"})]),_:1}),h(s,{label:"본인 확인 설정"},{default:_(()=>[h(d,{modelValue:N(n),"onUpdate:modelValue":a[0]||(a[0]=m=>Q(n)?n.value=m:null),size:"xl",placeholder:"질문을 선택해주세요",options:[{label:"직접입력하기",value:"custom"},{label:"태어난 고향이 어디인가요?",value:"birth_location"},{label:"생일이 언제인가요?",value:"birth_date"},{label:"가장 좋아하는 음식은 무엇인가요?",value:"favorite_food"},{label:"가장 좋아하는 색상은 무엇인가요?",value:"favorite_color"},{label:"가장 좋아하는 동물은 무엇인가요?",value:"favorite_animal"},{label:"가장 좋아하는 영화는 무엇인가요?",value:"favorite_movie"},{label:"가장 좋아하는 책은 무엇인가요?",value:"favorite_book"},{label:"가장 좋아하는 음악은 무엇인가요?",value:"favorite_music"},{label:"가장 좋아하는 스포츠는 무엇인가요?",value:"favorite_sports"}],uiMenu:{height:"h-[120px]"}},null,8,["modelValue"])]),_:1}),((f=N(n))==null?void 0:f.value)==="custom"?(p(),k(o,{key:0,size:"xl",placeholder:"질문을 입력해주세요"})):w("",!0),h(o,{size:"xl",placeholder:"질문에 대한 답변을 입력해주세요"})]}),_:1})]),_:1})}}});export{Ie as default};
